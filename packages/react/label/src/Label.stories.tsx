import * as React from 'react';
import { Label, styles, useLabelContext } from './Label';
import { styled } from '../../../../stitches.config';

export default { title: 'Components/Label' };

export const Basic = () => <Label as={BasicStyledRoot}>Label</Label>;

export const Styled = () => <Label as={StyledRoot}>Label</Label>;

export const AutoGeneratedId = () => (
  <Label as={StyledRoot}>
    Label <Control />
  </Label>
);

export const SuppliedId = () => (
  <Label id="test" as={StyledRoot}>
    Label <Control />
  </Label>
);

export const WithHtmlFor = () => (
  <>
    <Label htmlFor="test" as={StyledRoot}>
      This should add an `aria-labelledby` to the control
    </Label>
    <Control id="test" />
  </>
);

const Control = (props: any) => {
  const id = useLabelContext();
  return <span {...props}>{id}</span>;
};

const BasicStyledRoot = styled('span', styles.root);

const StyledRoot = styled(BasicStyledRoot, {
  border: '1px solid gainsboro',
  margin: 10,
  padding: 10,
});
